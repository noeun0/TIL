# 데이터 모델과 성능

### 성능 데이터 모델링

 : 성능 향상을 목적으로 설계된 데이터 모델링부터 성능과 관련된 사항이 모델링에 반영될 수 있도록 한다

-> 성능을 충분히 고려하기 위해 정규화 / 반정규화

##### 성능 데이터 모델링 시 고려사항 우선순위

1. 정규화를 수행
2. 트랜잭션 용량 산정
3. 트랜젝션 유형 분석
4. 반정규화 수행
5. 타입, 이력 데이터, 키 등을 고려 / 이력 모델의 조정 / PK,FK조정 / 슈퍼타입 / 서브타입 조정
6. 성능 관점에서 데이터 모델 검증

##### Nomalization

정규화 절차  / 도부이결다조

- 제 1 정규화 : 속성의 원자성 확보 = 기본키 설정 ( 유일/ 최소)
- 제 2 정규화 : 부분 함수 종속 제거 = 두개 중 하나의 기본키가 컬럼을 종속할 때
- 제 3 정규화 : 이행 함수 종속성 제거  = 기본 키를 제외한 컬럼간에 종속이 생기는 경우
- BCNF : 후보키들이 서로 중첩되어 있을 떄
- 제 4 정규화 : 다중값 종속성 제거
- 제 5 정규화 : 조인에 의해 종속성이 생기는 경우 분해

##### 정규화 문제점

- join / nested loop를 유발해 cpu와 메모리를 많이 사용



### De-Nomalisation

##### 반정규화를 하는 경우

- 수행 속도가 느릴 경우
- 다량의 범위나 특정 범위를 자주 처리하는 경우
- 요약 / 집계 정보가 자주 요구되는 경우

##### 반정규화 절차

1. 반정규화 대상 조사
   - 범위 처리 빈도수, 대량의 범위 처리,  통계성 프로세스, 테이블 조인 개수
2.  다른 방법 유도 검토
   - 뷰 테이블, 클러스터링 적용, 인덱스의 조정, 응용어플리케이션
3.  반 정규화 적용
   - 테이블 반 정규화, 속성의 반 정규화, 관계의 반 정규화

##### 반정규화 기법

- 테이블
  - 병합 : 1:1, 1:m, 슈퍼/서브
  - 분할 : 수직, 수평
  - 추가 : 중복, 통계, 이력, 부분
- 칼럼
  - 중복, 파생, 이력, pk, 응용 시스템 오작동

### 파티셔닝

- 논리적으로는 하나의 테이블 이지만 물리적으로는 여러개의 테이블로 분리하여 데이터 액세스 성능을 향상시키고 관리 방법도 개선하는 기법
- 종류 : range / list / hash / composite



### 분산 데이터베이스

##### 분산 데이터 베이스의 투명성 종류

- 분산 / 위치 / 지역 사상 / 중복 / 장애 / 병행

##### 장단점

- 장점 : 지역 자치성, 점증적 시스템 용량 확장, **신뢰성**과 **가용성**이 높다. 병렬 처리 수행으로 빠른 응답 가능, 시스템 용량 확장 쉬움, 효용성과 융통성, **빠른 응답 속도**, **통신 비용** **절감**, 시스템 규모의 적절한 조절, 각 지역 사용자의 요구 수용 증대
- 단점: 관리와 통제가 어렵다. 보안 관리 어렵다. 무결성 관리 어렵다. 설계가 복잡하다. 개발 비용 증가, 처리 비용 증가, 오류의 잠재성 증가, 불규칙한 응답속도, 무결성 위협

